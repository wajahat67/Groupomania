{"remainingRequest":"/Users/wajahat98/Desktop/test/frontend/node_modules/babel-loader/lib/index.js!/Users/wajahat98/Desktop/test/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wajahat98/Desktop/test/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wajahat98/Desktop/test/frontend/src/views/Profil.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wajahat98/Desktop/test/frontend/src/views/Profil.vue","mtime":1643919861000},{"path":"/Users/wajahat98/Desktop/test/frontend/babel.config.js","mtime":1643919861000},{"path":"/Users/wajahat98/Desktop/test/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645449017842},{"path":"/Users/wajahat98/Desktop/test/frontend/node_modules/babel-loader/lib/index.js","mtime":1645449018164},{"path":"/Users/wajahat98/Desktop/test/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645449017842},{"path":"/Users/wajahat98/Desktop/test/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1645449018122}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dhamFoYXQ5OC9EZXNrdG9wL3Rlc3QvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCBtb2RpZnlVc2VyIGZyb20gIi4uL2NvbXBvbmVudHMvVXNlck1vZGlmeU1vZGFsLnZ1ZSI7CmltcG9ydCB7IFBlbmNpbEljb24sIE1haWxJY29uLCBDaGF0SWNvbiwgVHJhc2hJY29uIH0gZnJvbSAiQGhlcm9pY29ucy92dWUvc29saWQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlByb2ZpbCIsCiAgY29tcG9uZW50czogewogICAgbW9kaWZ5VXNlcjogbW9kaWZ5VXNlciwKICAgIFBlbmNpbEljb246IFBlbmNpbEljb24sCiAgICBNYWlsSWNvbjogTWFpbEljb24sCiAgICBDaGF0SWNvbjogQ2hhdEljb24sCiAgICBUcmFzaEljb246IFRyYXNoSWNvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGlmeVVzZXI6IGZhbHNlIC8vIExhIG1vZGFsZSBuZSBkb2l0IHBhcyBkJ2FmZmljaGVyIGluaXRpYWxlbWVudAoKICAgIH07CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0VXNlckluZm9zIik7IC8vIE9uIHZldXQgcsOpY3Vww6lyZXIgbGVzIGluZm9zIGRlIGwndXNlciBkw6hzIGxlIGNoYXJnZW1lbnQKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm1vbWVudCA9IG1vbWVudDsgLy8gUGVybWV0IGxlIGZvcm1hdGFnZSBkZSBsYSBkYXRlIGRlIGNyw6lhdGlvbgoKICAgIG1vbWVudC5sb2NhbGUoImZyIik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBkaXNwbGF5TW9kYWw6IGZ1bmN0aW9uIGRpc3BsYXlNb2RhbCgpIHsKICAgICAgdGhpcy5tb2RpZnlVc2VyID0gdHJ1ZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wcm9maWwvbW9kaWZ5Iik7CiAgICB9LAogICAgY2xvc2VNb2RhbDogZnVuY3Rpb24gY2xvc2VNb2RhbCgpIHsKICAgICAgdGhpcy5tb2RpZnlVc2VyID0gZmFsc2U7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcHJvZmlsIik7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcihpZCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImRlbGV0ZU9uZVVzZXIiLCBpZCk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dPdXQiKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBQb3VyIMOpdml0ZXIgZGVzIGVycmV1cnMgbGEgc2Vzc2lvbiBzZSBmZXJtZSBhcHLDqHMgbGEgc3VwcHJlc3Npb24gZGUgbCd1c2VyCiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKHsKICAgIHVzZXI6IGZ1bmN0aW9uIHVzZXIoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXI7CiAgICB9CiAgfSkpCn07"},{"version":3,"sources":["/Users/wajahat98/Desktop/test/frontend/src/views/Profil.vue"],"names":[],"mappings":";AAkEA,SAAS,QAAT,QAAyB,MAAzB;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,OAAO,UAAP,MAAuB,mCAAvB;AACA,SACE,UADF,EAEE,QAFF,EAGE,QAHF,EAIE,SAJF,QAKO,sBALP;AAOA,eAAe;AACb,EAAA,IAAI,EAAE,QADO;AAEb,EAAA,UAAU,EAAE;AAAE,IAAA,UAAU,EAAV,UAAF;AAAc,IAAA,UAAU,EAAV,UAAd;AAA0B,IAAA,QAAQ,EAAR,QAA1B;AAAoC,IAAA,QAAQ,EAAR,QAApC;AAA8C,IAAA,SAAQ,EAAR;AAA9C,GAFC;AAIb,EAAA,IAAI,EAAE;AAAA,WAAO;AACX,MAAA,UAAU,EAAE,KADD,CACQ;;AADR,KAAP;AAAA,GAJO;AAQb,EAAA,WARa,yBAQC;AACZ,SAAK,MAAL,CAAY,QAAZ,CAAqB,cAArB,EADY,CAC0B;AACvC,GAVY;AAWb,EAAA,OAAO,EAAE,mBAAW;AAClB,SAAK,MAAL,GAAc,MAAd,CADkB,CACI;;AACtB,IAAA,MAAM,CAAC,MAAP,CAAc,IAAd;AACD,GAdY;AAgBb,EAAA,OAAO,EAAE;AACP,IAAA,YADO,0BACQ;AACb,WAAK,UAAL,GAAkB,IAAlB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,gBAAlB;AACD,KAJM;AAMP,IAAA,UANO,wBAMM;AACX,WAAK,UAAL,GAAkB,KAAlB;AACA,WAAK,OAAL,CAAa,IAAb,CAAkB,SAAlB;AACD,KATM;AAWP,IAAA,UAXO,sBAWI,EAXJ,EAWQ;AAAA;;AACb,WAAK,MAAL,CAAY,QAAZ,CAAqB,eAArB,EAAsC,EAAtC;AACA,WAAK,MAAL,CAAY,QAAZ,CAAqB,QAArB,EAA+B,IAA/B,CAAoC,YAAM;AAAE;AAC1C,QAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,GAAlB;AACD,OAFD;AAGD;AAhBM,GAhBI;AAmCb,EAAA,QAAQ,oBACH,QAAQ,CAAC;AACV,IAAA,IAAI,EAAE,cAAC,KAAD;AAAA,aAAW,KAAK,CAAC,IAAjB;AAAA;AADI,GAAD,CADL;AAnCK,CAAf","sourcesContent":["<template>\n  <div class=\"flex justify-center w-screen py-20 2xl:py-32\">\n    <div class=\"w-11/12 lg:w-3/6  bg-white py-5 rounded-xl shadow-lg\">\n      <div class=\"flex justify-end\">\n        <div class=\"flex\">\n          <button\n            type=\"button\"\n            title=\"Modifier votre profil\"\n            @click=\"displayModal\"\n          >\n            <PencilIcon\n              class=\"h-8 w-8 mr-8 text-gray-300 hover:text-gray-600\"\n            />\n          </button>\n          <modify-user v-show=\"modifyUser\" @close=\"closeModal\" />\n          <button\n            type=\"button\"\n            title=\"Supprimer votre profil\"\n            @click=\"deleteUser(user.userId)\"\n          >\n            <TrashIcon class=\"h-8 w-8 mr-4 text-red-400 hover:text-red-600\" />\n          </button>\n        </div>\n      </div>\n      <div\n        class=\"flex flex-col space-y-8 md:space-y-12 lg:flex justify-center items-center flex-wrap mb-8 mx-8\"\n      >\n        <div class=\"flex flex-col items-center\">\n          <img\n            v-if=\"user.picture !== null\"\n            class=\"inline object-cover rounded-full h-40 w-40 border-8 border-gray-300 shadow-md\"\n            :src=\"user.picture\"\n            alt=\"photo de profil\"\n          />\n          <h1 class=\"font-bold text-3xl text-gray-600 p-4\">\n            {{ user.username }}\n          </h1>\n          <p class=\"text-xl pb-4 text-center\">\n            {{ user.lastName }} {{ user.firstName }}\n          </p>\n          <p class=\"text-sm font-thin italic\">\n            Membre depuis le\n            {{ moment(user.birth).format(\"[le] DD MMMM YYYY\") }}\n          </p>\n        </div>\n      </div>\n      <div class=\"flex flex-col items-center md:items-start m-6 md:m-12 space-y-4\">\n        <div class=\"flex items-center\">\n          <MailIcon class=\"h-6 w-6 mr-2 text-gray-600\" />\n          <p class=\"font-light\">{{ user.email }}</p>\n        </div>\n        <div class=\"flex items-center\">\n          <ChatIcon class=\"h-6 w-6 mr-2 text-gray-600\" />\n          <p class=\"font-light\">A propos</p>\n        </div>\n        <div class=\"mx-2 md:mx-8\">\n          <p class=\"font-light pl-2 border-l-2 border-gray-600 \">\n            {{ user.description }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport moment from \"moment\";\nimport modifyUser from \"../components/UserModifyModal.vue\";\nimport {\n  PencilIcon,\n  MailIcon,\n  ChatIcon,\n  TrashIcon,\n} from \"@heroicons/vue/solid\";\n\nexport default {\n  name: \"Profil\",\n  components: { modifyUser, PencilIcon, MailIcon, ChatIcon, TrashIcon },\n\n  data: () => ({\n    modifyUser: false, // La modale ne doit pas d'afficher initialement\n  }),\n\n  beforeMount() {\n    this.$store.dispatch(\"getUserInfos\"); // On veut récupérer les infos de l'user dès le chargement\n  },\n  created: function() {\n    this.moment = moment; // Permet le formatage de la date de création\n    moment.locale(\"fr\");\n  },\n\n  methods: {\n    displayModal() {\n      this.modifyUser = true;\n      this.$router.push(\"/profil/modify\");\n    },\n\n    closeModal() {\n      this.modifyUser = false;\n      this.$router.push(\"/profil\");\n    },\n\n    deleteUser(id) {\n      this.$store.dispatch(\"deleteOneUser\", id);\n      this.$store.dispatch(\"logOut\").then(() => { // Pour éviter des erreurs la session se ferme après la suppression de l'user\n        this.$router.push(\"/\"); \n      });\n    },\n  },\n\n  computed: {\n    ...mapState({\n      user: (state) => state.user,\n    }),\n  },\n};\n</script>\n"],"sourceRoot":""}]}