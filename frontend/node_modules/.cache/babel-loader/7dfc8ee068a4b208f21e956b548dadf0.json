{"remainingRequest":"/Users/wajahat98/Desktop/projet_7/frontend/node_modules/babel-loader/lib/index.js!/Users/wajahat98/Desktop/projet_7/frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/wajahat98/Desktop/projet_7/frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/wajahat98/Desktop/projet_7/frontend/src/components/LoginForm.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/wajahat98/Desktop/projet_7/frontend/src/components/LoginForm.vue","mtime":1645655039281},{"path":"/Users/wajahat98/Desktop/projet_7/frontend/babel.config.js","mtime":1643919861000},{"path":"/Users/wajahat98/Desktop/projet_7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645449017842},{"path":"/Users/wajahat98/Desktop/projet_7/frontend/node_modules/babel-loader/lib/index.js","mtime":1645449018164},{"path":"/Users/wajahat98/Desktop/projet_7/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1645449017842},{"path":"/Users/wajahat98/Desktop/projet_7/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1645449018122}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL3dhamFoYXQ5OC9EZXNrdG9wL3Byb2pldF83L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsgLy8gbWFwU3RhdGUgbm91cyBwZXJtZXQgZGUgcsOpY3Vww6lyZXIgZGVzIHByb3ByacOpdMOpcyBkZSBzdGF0ZSBkdSBzdG9yZQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbkZvcm0iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VybmFtZTogIiIsCiAgICAgIHBhc3N3b3JkOiAiIgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHsKICAgIC8vIEZvbmN0aW9uIHF1aSB2YSBwZXJtZXR0cmUgZGUgZMOpc2FjdGl2ZXIgbGUgYm91dG9uIGNvbm5leGlvbiBzaSBsZXMgY2hhbXBzIG5lIHNvbnQgcGFzIHJlbXBsdXMKICAgIHZhbGlkYXRlZEZpZWxkczogZnVuY3Rpb24gdmFsaWRhdGVkRmllbGRzKCkgewogICAgICBpZiAodGhpcy51c2VybWFuZSAhPSAiIiAmJiB0aGlzLnBhc3N3b3JkICE9ICIiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwgbWFwU3RhdGUoWyJzdGF0dXMiXSkpLAogIG1ldGhvZHM6IHsKICAgIGxvZ1RvQWNjb3VudDogZnVuY3Rpb24gbG9nVG9BY2NvdW50KCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJsb2dUb0FjY291bnQiLCB7CiAgICAgICAgLy8gT24gcHJvcGFnZSBsJ2FjdGlvbiBjcmVhdGVBY2NvdW50IGR1IHN0b3JlIGF2ZWMgbCdvYmpldCBwcsOpc2VudAogICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKCIvd2FsbCIpOyAvLyBQdWlzIG9uIGJhc2N1bGUgc3VyIGxhIHBhZ2Ugd2FsbAogICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/wajahat98/Desktop/projet_7/frontend/src/components/LoginForm.vue"],"names":[],"mappings":";AA0CA,SAAS,QAAT,QAAyB,MAAzB,C,CAAiC;;AAEjC,eAAe;AACb,EAAA,IAAI,EAAE,WADO;AAGb,EAAA,IAAI,EAAE,gBAAW;AACf,WAAO;AACL,MAAA,QAAQ,EAAE,EADL;AAEL,MAAA,QAAQ,EAAE;AAFL,KAAP;AAID,GARY;AAUb,EAAA,QAAQ;AACN;AACA,IAAA,eAAe,EAAE,2BAAW;AAC1B,UAAI,KAAK,QAAL,IAAiB,EAAjB,IAAuB,KAAK,QAAL,IAAiB,EAA5C,EAAgD;AAC9C,eAAO,IAAP;AACF,OAFA,MAEO;AACL,eAAO,KAAP;AACF;AACD;AARK,KASH,QAAQ,CAAC,CAAC,QAAD,CAAD,CATL,CAVK;AAsBb,EAAA,OAAO,EAAE;AACP,IAAA,YAAY,EAAE,wBAAW;AACvB,UAAM,IAAG,GAAI,IAAb;AACA,WAAK,MAAL,CACG,QADH,CACY,cADZ,EAC4B;AACxB;AACA,QAAA,QAAQ,EAAE,KAAK,QAFS;AAGxB,QAAA,QAAQ,EAAE,KAAK;AAHS,OAD5B,EAMG,IANH,CAOI,YAAW;AACT,QAAA,IAAI,CAAC,OAAL,CAAa,IAAb,CAAkB,OAAlB,EADS,CACmB;AAC7B,OATL,EAUI,UAAS,KAAT,EAAgB;AACd,QAAA,OAAO,CAAC,GAAR,CAAY,KAAZ;AACF,OAZJ;AAcD;AAjBM;AAtBI,CAAf","sourcesContent":["<template>\n  <div class=\"shadow-md bg-gray-50 rounded-xl p-10 w-full\">\n    <form>\n      <div>\n        <input\n          v-model=\"username\"\n          class=\"w-full p-2 mb-6 rounded-md border-2 border-gray-400 outline-none focus:ring-2 focus:ring-gray-400\"\n          type=\"text\"\n          placeholder=\"Votre pseudo\"\n          aria-label=\"pseudo\"\n        />\n        <input\n          v-model=\"password\"\n          class=\"w-full p-2 mb-6 rounded-md border-2 border-gray-400 outline-none focus:ring-2 focus:ring-gray-400\"\n          type=\"password\"\n          placeholder=\"Votre mot de passe\"\n          aria-label=\"mot de passe\"\n        />\n      </div>\n      <div>\n        <button\n          type=\"button\"\n          aria-label=\"se connecter\"\n          @click=\"logToAccount();\"\n          class=\"w-full rounded-md border-2 bg-gray-500 hover:bg-gray-600 hover:shadow-xl text-white font-bold py-2 px-4\"\n          :disabled=\"!validatedFields\"\n          :class=\"{ 'opacity-25 cursor-not-allowed': !validatedFields }\"\n        >\n          <span v-if=\"status == 'loading'\">Connexion en cours...</span>\n          <span v-else>Connexion</span>\n        </button>\n      </div>\n      <div>\n        <p v-if=\"status == 'error'\" class=\"p-2 text-center text-red-400\">\n          Identifiant ou mot de passe incorrect.\n        </p>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\"; // mapState nous permet de récupérer des propriétés de state du store\n\nexport default {\n  name: \"loginForm\",\n\n  data: function() {\n    return {\n      username: \"\",\n      password: \"\",\n    };\n  },\n\n  computed: {\n    // Fonction qui va permettre de désactiver le bouton connexion si les champs ne sont pas remplus\n    validatedFields: function() {\n      if (this.usermane != \"\" && this.password != \"\") {\n        return true;\n      } else {\n        return false;\n      }\n    },\n    ...mapState([\"status\"]), // On souhaite récupérer les stats status du store\n  },\n\n  methods: {\n    logToAccount: function() {\n      const self = this;\n      this.$store\n        .dispatch(\"logToAccount\", {\n          // On propage l'action createAccount du store avec l'objet présent\n          username: this.username,\n          password: this.password,\n        })\n        .then(\n          function() {\n            self.$router.push(\"/wall\"); // Puis on bascule sur la page wall\n          },\n          function(error) {\n            console.log(error);\n          }\n        );\n    },\n  },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}]}